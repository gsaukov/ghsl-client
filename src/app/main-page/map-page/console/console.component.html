<table class="console-table">
  <thead class="console-table-header">
  <tr>
    <td>
      Loading layers
    </td>
  </tr>
  </thead>
  <tbody *ngFor="let el of getLayers()">
    <tr>
      <td>{{el.key}}</td>
      <td>
<!--        <ng-template *ngIf="el.loaded; then timeTemplate; else spinner" [ngTemplateOutletContext]="{ $implicit: el }"></ng-template>-->
        <ng-container *ngIf="el.loaded; else spinner">
          <ng-container *ngTemplateOutlet="timeTemplate; context: { $implicit: el }"></ng-container>
        </ng-container>
      </td>

    </tr>
  </tbody>
  <tfoot class="console-table-header">
  <tr>
    <td>Lol</td>
  </tr>
  </tfoot>
</table>

<ng-template #spinner>
  <div class="spinner-container">
    <svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg" stroke="grey"
         style="width: 16px ; height: 16px">
      <g fill="none" fill-rule="evenodd">
        <g transform="translate(1 1)" stroke-width="3">
          <circle stroke-opacity=".5" cx="18" cy="18" r="18"/>
          <path d="M36 18c0-9.94-8.06-18-18-18">
            <animateTransform
              attributeName="transform"
              type="rotate"
              from="0 18 18"
              to="360 18 18"
              dur="0.8s"
              repeatCount="indefinite"/>
          </path>
        </g>
      </g>
    </svg>
  </div>
</ng-template>

<ng-template #timeTemplate let-el>
    {{ el.timeMs }}
</ng-template>
